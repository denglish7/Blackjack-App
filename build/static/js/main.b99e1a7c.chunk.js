(this.webpackJsonpdaniel_english_final_project=this.webpackJsonpdaniel_english_final_project||[]).push([[0],{48:function(e,t,a){e.exports=a(90)},54:function(e,t,a){},87:function(e,t){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(17),r=a.n(c),i=(a(53),a(54),a(2)),o=a(97),u=a(95),s=a(96),m=a(91),d=function(){var e=Object(i.c)((function(e){return e.messages})),t=Object(n.useRef)(null);return Object(n.useEffect)((function(){t.current.scrollIntoView({behavior:"smooth"})}),[e]),l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{striped:!0,bordered:!0,className:"my-4"},l.a.createElement("tbody",null,e.map((function(e,t){return l.a.createElement("tr",{key:"msg-".concat(t)},l.a.createElement("td",null,e))})))),l.a.createElement("div",{ref:t}))},E=a(8),f=a(92),p=a(93),g=a(94),b=a(6),y=a(11),h=a(47),N="logged in",O="invalid login",j="GETTING_BETS",S="DEALING_CARDS",v="TAKING_ACTIONS",_="HAND_OVER",I="DID_WIN",k="DID_LOSE",C="DID_BUST",T="HIT_BLACKJACK",D="DID_PUSH",A="HIT",B="NEXT",w="DOUBLE_DOWN",R={isConnected:!1,onboardingComplete:!1,gameStarted:!1,loginState:"logged out",gameStatus:null,messages:[],table:[],playerId:"",playingPlayerId:"",players:{},action:null,dealer:{hand:[],handValue:0,didBust:!1,hitBlackjack:!1}},G=Object(y.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ONBOARDING_COMPLETE":return Object(b.a)(Object(b.a)({},e),{},{onboardingComplete:!0});case"BETTING_DONE":return Object(b.a)(Object(b.a)({},e),{},{gameStatus:S});case"GET_PLAYERS":return Object(b.a)(Object(b.a)({},e),{},{players:t.payload.players,dealer:t.payload.dealer});case"START_GAME_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{gameStarted:!0,players:t.payload.players,dealer:t.payload.dealer});case"REQUEST_ACTION_BY_ID":return Object(b.a)(Object(b.a)({},e),{},{gameStatus:v,playingPlayerId:t.payload.playerId});case"REQUEST_BET_BY_ID":return Object(b.a)(Object(b.a)({},e),{},{gameStatus:j,playingPlayerId:t.payload.playerId});case"SET_CLIENT_ID":return Object(b.a)(Object(b.a)({},e),{},{playerId:t.payload.clientId});case"NEW_MESSAGE":return Object(b.a)(Object(b.a)({},e),{},{messages:t.payload.messages});case"INVALID_USERNAME":return Object(b.a)(Object(b.a)({},e),{},{loginState:O});case"CONNECTED":return Object(b.a)(Object(b.a)({},e),{},{loginState:N,isConnected:!0,players:t.payload.players,table:t.payload.table});case"END_HAND":return Object(b.a)(Object(b.a)({},e),{},{players:t.payload.players,dealer:t.payload.dealer,gameStatus:_});case"GAME_OVER":return R;default:return e}}),Object(y.a)(h.a)),L="appname.herokuapp.com",U=a(59).connect(L,{secure:!0});console.log("connected to "+L),U.on("notification",(function(e){console.log("Server says: "+e)})),U.on("all messages",(function(e){G.dispatch(q(e))})),U.on("game joined",(function(e,t){G.dispatch(Q(e,t))})),U.on("get players",(function(e,t){console.log("get playeres heres players",e),console.log("get players heres dealer",t),G.dispatch(W(e,t))})),U.on("request bet for player",(function(e){console.log("requesting bet for ",e),G.dispatch(M(e))})),U.on("request action for player",(function(e){G.dispatch(H(e))})),U.on("betting done",(function(){G.dispatch(K())})),U.on("start game success",(function(e,t){G.dispatch(J(e,t))})),U.on("table full",(function(){console.log("table fulllllllll")})),U.on("starting game",(function(){G.dispatch(Y())})),U.on("start game failure",(function(){G.dispatch(F())})),U.on("valid username",(function(e){P(e)})),U.on("invalid username",(function(){G.dispatch(X())})),U.on("client id",(function(e){G.dispatch(x(e))})),U.on("player disconnected",(function(e,t){G.dispatch(W(e,t))})),U.on("new game",(function(){G.dispatch($())})),U.on("dealer hit",(function(e){U.emit("check dealer hand",e)})),U.on("player got blackjack",(function(e){G.dispatch(V(e))})),U.on("table full",(function(){})),U.on("end hand",(function(e,t){G.dispatch(z(e,t))}));var P=function(e){U.emit("join",e)},M=function(e){return{type:"REQUEST_BET_BY_ID",payload:{playerId:e}}},H=function(e){return{type:"REQUEST_ACTION_BY_ID",payload:{playerId:e}}},x=function(e){return{type:"SET_CLIENT_ID",payload:{clientId:e}}},Y=function(){return{type:"STARTING_GAME"}},W=function(e,t){return{type:"GET_PLAYERS",payload:{players:e,dealer:t}}},K=function(){return{type:"BETTING_DONE"}},V=function(e){return{type:"PLAYER_BLACKJACK",payload:{playerId:e}}},J=function(e,t){return{type:"START_GAME_SUCCESS",payload:{players:e,dealer:t}}},F=function(){return{type:"START_GAME_FAIL"}},Q=function(e,t){return{type:"CONNECTED",payload:{players:e,table:t}}},q=function(e){return{type:"NEW_MESSAGE",payload:{messages:e}}},z=function(e,t){return{type:"END_HAND",payload:{players:e,dealer:t}}},X=function(){return{type:"INVALID_USERNAME"}},$=function(){return{type:"GAME_OVER"}},Z=function(e){return function(t){return function(e){U.emit("check username",e)}(e)}},ee=function(e){return function(t){return function(e){U.emit("new message",e)}(e)}},te=function(){return function(e){U.emit("start game")}},ae=function(){return function(e){U.emit("submitting bet")}},ne=function(e,t,a){return function(n){!function(e,t,a){U.emit("new bet",e,t,a)}(e,t,a)}},le=function(e,t){return function(a){!function(e,t){U.emit("new action",e,t)}(e,t)}},ce=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(E.a)(r,2),s=o[0],m=o[1],d=Object(i.b)();return l.a.createElement("div",{className:"chatform"},l.a.createElement(f.a,null,l.a.createElement(p.a,{for:"messageTxt"},"Your message:"),l.a.createElement(g.a,{id:"messageTxt",type:"textarea",placeholder:"Enter your message",value:a,onChange:function(e){c(e.target.value),e.target.value.length>0?m(!0):m(!1)}})),l.a.createElement(u.a,{className:"float-right",disabled:!1===s,onClick:function(){d(ee(a)),c("")}},"Send"))},re=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"chatbox"},l.a.createElement(d,null)),l.a.createElement(ce,null))},ie=function(e){var t=Object(n.useState)(!1),a=Object(E.a)(t,2),c=a[0],r=a[1],o=Object(i.c)((function(e){return e.playerId})),m=Object(i.c)((function(e){return e.players})),d=Object(n.useState)(!1),f=Object(E.a)(d,2),p=f[0],g=f[1],b=Object(i.b)(),y=function(e){e>=5&&g(!1);var t=m[o].chips,a=m[o].bet;e<=t?(b(ne(o,t-e,a+e)),r(!1)):r(!0)};return l.a.createElement("div",null,l.a.createElement("div",{className:"chip-container"},l.a.createElement(s.a,null,!0===c?l.a.createElement("p",null,"not enough chips"):null,!0===p?l.a.createElement("p",null,"must bet at least 5 chips"):null),l.a.createElement("div",{onClick:function(){return y(5)},className:"chip"},"5"),l.a.createElement("div",{onClick:function(){return y(25)},className:"chip"},"25"),l.a.createElement("div",{onClick:function(){return y(50)},className:"chip"},"50")),l.a.createElement(u.a,{className:"button",onClick:function(){return function(){var e=m[o].chips+m[o].bet;b(ne(o,e,0)),r(!1)}()}},"Clear"),l.a.createElement(u.a,{className:"button",onClick:function(){m[o].bet<5?g(!0):b(ae())}},"Bet"))},oe=function(e){var t=Object(i.c)((function(e){return e.playerId})),a=Object(i.b)(),n=function(e){a(le(t,e))};return l.a.createElement("div",null,l.a.createElement("div",{className:"chip-container"},l.a.createElement(u.a,{className:"button",onClick:function(){return n(A)}},"HIT"),l.a.createElement(u.a,{className:"button",onClick:function(){return n(B)}},"STAY"),2===e.handSize?l.a.createElement(u.a,{onClick:function(){return n(w)}},"DOUBLE DOWN"):null))},ue=function(e){var t=function(e){return 15*e+"px"},a=e.cards.map((function(e,a){return null===e.value?l.a.createElement("li",{key:a,style:{float:"right",marginRight:t(a)}},l.a.createElement("img",{className:"card",key:a,src:"/cs7580su20-seattle/daniel_english_final_project/images/playing-card.png",alt:"card"})):l.a.createElement("li",{key:a,style:{float:"right",marginRight:t(a)}},l.a.createElement("img",{className:"card",key:a,src:e.image,alt:"card"}))}));return l.a.createElement("div",{className:"hand"},l.a.createElement("ul",null,a))},se=function(e){var t=Object(i.c)((function(e){return e.playingPlayerId})),a=Object(i.c)((function(e){return e.playerId})),n=Object(i.c)((function(e){return e.players})),c=Object(i.c)((function(e){return e.gameStatus})),r=n[a].chips;return l.a.createElement("div",{className:"player-container",xs:"6",sm:"4"},l.a.createElement(s.a,{className:"row-container"},l.a.createElement("h3",{className:"username"},e.username)),l.a.createElement(s.a,{className:"row-container"},e.id===a?l.a.createElement("p",{className:"username"},"chips: ",r):l.a.createElement("p",{className:"username"},n[e.id].chips)),l.a.createElement(s.a,{className:"row-container"},0!==n[e.id].bet?l.a.createElement("div",{className:"bet-area"},l.a.createElement("div",{classname:"chip"},n[e.id].bet)):l.a.createElement("div",{className:"bet-area"}),e.id===t&&e.id===a&&c===j?l.a.createElement(ie,e):null),l.a.createElement(s.a,{className:"row-container"},e.finalStatus===C?l.a.createElement("h3",null,"Busted"):e.finalStatus===T?l.a.createElement("h3",null,"Blackjack!"):e.finalStatus===D?l.a.createElement("h3",null,"Push"):e.finalStatus===I?l.a.createElement("h3",null,e.username," won!"):e.finalStatus===k?l.a.createElement("h3",null,e.username," lost."):null),l.a.createElement(s.a,{className:"row-container"},e.id===t&&e.id===a&&c===v?l.a.createElement(oe,{handSize:e.hand.length}):null),l.a.createElement(s.a,{className:"row-container"},e.hand.length>0?l.a.createElement(ue,{cards:e.hand}):null))},me=function(){var e=Object(i.c)((function(e){return e.dealer}));return l.a.createElement(o.a,{className:"player-container",xs:"6",sm:"4"},l.a.createElement("p",null,"Dealer"),l.a.createElement("div",null,e.finalStatus===C?l.a.createElement("h3",null,"Dealer Busted"):e.finalStatus===T?l.a.createElement("h3",null,"Dealer Hit Blackjack"):null),e.hand.length>0?l.a.createElement(ue,{cards:e.hand}):null)},de=function(){var e=Object(i.c)((function(e){return e.players})),t=Object(i.c)((function(e){return e.playerId})),a=e[t].username,n=Object(i.c)((function(e){return e.gameStarted})),c=Object(i.c)((function(e){return e.gameStatus})),r=Object(i.b)(),m=Object.keys(e).map((function(t,a){return!0===e[t].isPlaying?l.a.createElement(o.a,{sm:12,xs:12,md:4},l.a.createElement(se,Object.assign({key:a,id:t},e[t]))):null}));return l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"welcome"},l.a.createElement("h3",null,"Welcome ",a),c===_?l.a.createElement(u.a,{className:"button",onClick:function(){return r(te())}},"New Hand"):null,!1===n?l.a.createElement(u.a,{className:"button",onClick:function(){return r(te())}},"Start Game"):null),l.a.createElement(s.a,null,l.a.createElement("div",null,l.a.createElement(me,null))),l.a.createElement(s.a,null,m),l.a.createElement(re,null))},Ee=a(98),fe=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),o=Object(E.a)(r,2),s=o[0],m=o[1],d=Object(i.c)((function(e){return e.loginState})),b=Object(i.b)(),y=function(e){e.target.value.length>0?m(!0):m(!1),c(e.target.value)},h=function(){a.length>0?(console.log("clicked herjekfdjk"),b(Z(a))):m(!1)},N=function(e){13===e.keyCode&&h()};return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{className:"mt-4"},l.a.createElement(p.a,{for:"username"},"Enter your username:"),s?l.a.createElement(g.a,{id:"username",value:a,onChange:y,onKeyUp:N}):l.a.createElement(g.a,{id:"username",value:a,invalid:!0,onChange:y,onKeyUp:N}),l.a.createElement(Ee.a,{invalid:"true"},"Username cannot be empty!")),d===O?l.a.createElement("p",null,"Username taken!"):null,l.a.createElement(u.a,{className:"float-right my-4",onClick:h},"Join Game"))},pe=function(e){return l.a.createElement("div",{className:"slide-"+e.slideStatus},e.children)},ge=function(e){return l.a.createElement("button",{className:"indicator",onClick:e.clickHandler},l.a.createElement("div",{className:"circle indicator-"+e.slideStatus}))},be=function(){var e=Object(n.useState)(1),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(i.b)(),o=function(e){return e===a?"active":"inactive"};return l.a.createElement("div",{className:"slides-bg"},l.a.createElement(pe,{slideStatus:o(1),slideId:1},l.a.createElement("h1",null,"Place your bet by selecting an amount"),l.a.createElement("p",null,"Click the value you'd like to add to your bet"),l.a.createElement("div",{className:"fit my-4"},l.a.createElement("img",{src:"/cs7580su20-seattle/daniel_english_final_project/images/betting.gif",className:"my-4 float-right fit slide-image",alt:"Blackjack screen gif showing bet funtionality."}))),l.a.createElement(pe,{slideStatus:o(2),slideId:2},l.a.createElement("h1",null,"Choose your move"),l.a.createElement("p",null,"Choose to Hit, Stay, or Double Down if possible"),l.a.createElement("div",{className:"fit my-4"},l.a.createElement("img",{src:"/cs7580su20-seattle/daniel_english_final_project/images/actions.gif",className:"img-fluid my-4 float-right fit slide-image",alt:"Blackjack screen gif showing actions funtionality."}))),l.a.createElement("div",{className:"slides-controls"},l.a.createElement("button",{className:"align-left control-btn",onClick:function(){return r({type:"ONBOARDING_COMPLETE"})}},"Skip"),l.a.createElement("div",{className:"align-center"},function(){for(var e=[],t=function(t){e.push(l.a.createElement(ge,{slideStatus:o(t),key:t,slideID:t,clickHandler:function(){return c(t)}}))},a=1;a<=2;a++)t(a);return e}()),l.a.createElement("button",{className:"align-right control-btn",onClick:function(){a<2?c(a+1):r({type:"ONBOARDING_COMPLETE"})}},a<2?"Next":"Done")))},ye=function(){var e=Object(i.c)((function(e){return e.isConnected})),t=Object(i.c)((function(e){return e.onboardingComplete}));return l.a.createElement("div",{className:"main"},e?!0===t?l.a.createElement(de,null):l.a.createElement(be,null):l.a.createElement(fe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(i.a,{store:G},l.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.b99e1a7c.chunk.js.map